-- CAMBIA DE REPOSITORIO
ALTER SESSION SET CONTAINER=XEPDB1;
--show con_name;

-- SE CREA EL TABLESPACE
CREATE TABLESPACE TBS_NEGOCIO
DATAFILE 'C:\app\green\product\18.0.0\oradata\XE\XEPDB1\TBS_NEGOCIO.dbf'
SIZE 100M 
AUTOEXTEND ON NEXT 10 M
MAXSIZE 200M
ONLINE;

-- SE CREA EL USUARIO
CREATE USER USR_NEGOCIO
IDENTIFIED BY 123456
DEFAULT TABLESPACE TBS_NEGOCIO
QUOTA UNLIMITED ON TBS_NEGOCIO;

-- SE CREA EL ROL
CREATE ROLE DESARROLLADOR;

-- SE ASINGNAN LOS PRIVILEGIOS AL ROL
GRANT CONNECT, CREATE TABLE, ALTER ANY TABLE, DROP ANY TABLE,
      INSERT ANY TABLE,  UPDATE ANY TABLE, DELETE ANY TABLE 
TO DESARROLLADOR; 

-- SE ASIGNA EL ROL AL USUARIO 
GRANT DESARROLLADOR TO USR_NEGOCIO;




--MOSTRAR EL CONTENEDOR
SHOW CON_NAME;

--CAMBIAR BASE DE DATOS CONTENEDOR 
ALTER SESSION SET CONTAINER=XEPDB1;

--VISUALIZAR TABLES SPACES
SELECT TABLESPACE_NAME FROM DBA_TABLESPACES;

--BORRAR TABLE SPACE
DROP TABLESPACE TBS_NEGOCIO INCLUDING CONTENTS AND DATAFILES;

--MOSTRAR USUARIOS
SELECT USERNAME, DEFAULT_TABLESPACE FROM DBA_USERS;

--BORRAR USUARIO
DROP USER USR_NEGOCIO CASCADE;

--Mostrar privilegios de un rol
SELECT PRIVILEGE FROM DBA_SYS_PRIVS WHERE GRANTEE = 'DESARROLLADOR';

--ASIGNAR EL PRIVIGILIO DE CREATE VIEW
GRANT CREATE ANY VIEW TO DESARROLLADOR;

